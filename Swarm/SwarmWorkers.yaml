metadata:
  blueprint_author: graboskyc
  blueprint_name: Docker Swarm
  blueprint_description: deploys nodes for a docker swarm without setting it up
  blueprint_version: 0.1.0

apiVersion: v1
resources:
  - name: swarm-worker-1
    description: worker node 1
    os: ubuntu
    size: c5.4xlarge
    postinstallorder: 20
    tasks:
      - type: shell
        url: https://raw.githubusercontent.com/graboskyc/MongoDBScaleTester/master/Swarm/dockerInstall.sh
        description: install docker
      - type: shell
        url: https://raw.githubusercontent.com/graboskyc/MongoDBScaleTester/master/Swarm/dockerJoinSwarm.sh SWMTKN-1-5b4l6ferora6ng6xilyzqpcl3ikb5po00z8f7jhgckibn9ys2k-60qkwd1443yncmms51imzevro 172.31.59.45:2377
        description: join swarm
  - name: swarm-worker-2
    description: worker node 2
    os: ubuntu
    size: c5.4xlarge
    postinstallorder: 30
    tasks:
      - type: shell
        url: https://raw.githubusercontent.com/graboskyc/MongoDBScaleTester/master/Swarm/dockerInstall.sh
        description: install docker
      - type: shell
        url: https://raw.githubusercontent.com/graboskyc/MongoDBScaleTester/master/Swarm/dockerJoinSwarm.sh SWMTKN-1-5b4l6ferora6ng6xilyzqpcl3ikb5po00z8f7jhgckibn9ys2k-60qkwd1443yncmms51imzevro 172.31.59.45:2377
        description: join swarm